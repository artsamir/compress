{% extends 'base.html' %}
{% block title %}Any Image to JPG Converter{% endblock %}

{% block content %}
<div class="container">
  <h1>Any Image to JPG Converter</h1>

  <!-- Drag & Drop Upload -->
  <div id="uploadBox" class="upload-box">
    <input type="file" id="imageInput" multiple accept="image/*" hidden>
    <div class="upload-instructions">
      <i class="fas fa-cloud-upload-alt"></i>
      <p>Drag & drop images here or</p>
      <button id="browseBtn" type="button">Browse Files</button>
      <p class="upload-limit">(Up to 100 images)</p>
    </div>
  </div>

  <!-- Pre-upload Preview (shown after first selection, before convert) -->
  <div id="preUploadPreview" class="upload-preview" style="display:none;"></div>

  <!-- Convert Button -->
  <div class="convert-actions">
    <button id="convertBtn" disabled>Convert to JPG</button>
  </div>

  <!-- Progress Bar -->
  <div id="progressBar" class="progress-bar" style="display:none;">
    <div id="progressFill" class="progress-fill"></div>
    <span id="progressText">0%</span>
  </div>

  <!-- View Toggle -->
  <div class="view-toggle" style="display:none;">
    <button id="listViewBtn" class="active"><i class="fas fa-list"></i> List View</button>
    <button id="galleryViewBtn"><i class="fas fa-th"></i> Gallery View</button>
  </div>

  <!-- Converted Results -->
  <div id="listView" class="list-view"></div>
  <div id="galleryView" class="gallery-view"></div>

  <!-- Download All -->
  <div class="download-actions">
    <button id="downloadZipBtn" class="btn-zip" disabled><i class="fas fa-file-zipper"></i> Download All (ZIP)</button>
  </div>

  <!-- Add New Image -->
  <div class="add-more">
    <button id="addNewBtn" type="button"><i class="fas fa-plus"></i> Add New Image</button>
  </div>
</div>

<link rel="stylesheet" href="{{ url_for('static', filename='css/image_to_jpg.css') }}">
<script src="{{ url_for('static', filename='js/image_to_jpg.js') }}"></script>
{% endblock %}